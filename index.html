<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="#" />
    <title>Домашнее задание - занятие 4</title>
  </head>
  <body>
    <h1>Для задания 1</h1>
    <div class="task1">
      <a
        id="link1"
        data-type="text/html"
        hreflang="RU-ru"
        rel="nofollow"
        class="link link-active"
        target="_blank"
        title="Откроется в новой вкладке"
        href="/homework4-1.html"
      >
        //Homework 4.1</a
      >
    </div>
    <div class="task1" id="task1-link"></div>
    <script>
      // 1. Напишите функцию JavaScript, чтобы получить значения атрибутов class, href, hreflang,
      // rel, target, title и data-type указанной ссылки. Полученный результат выведите в консоль.
      // 2. Напишите функцию удаления ссылки #link1 из DOM.
      // *3. Создайте точно такую же ссылку с помощью JavaScript и вставьте в #task1-link.
      // Решение:
      //1
      function showAttribut(id, ...attributes) {
        for (let item of attributes) {
          console.log(id.getAttribute(item));
        }
      }
      

      function deleteByID(id) {
        let link = document.querySelector("#link1");
        link.remove();
        if (link) {
          link.remove();
        }
      }
      

      window.onload = function () {
        let link = document.querySelector("#link1");
      showAttribut(
        link1,
        "class",
        "href",
        "hreflang",
        "rel",
        "target",
        "title",
        "data-type"
      );

      deleteByID("#link1");
        //2

        //3
        let task1 = document.querySelector("#task1-link");
        let linkTwo = document.createElement("a");
        linkTwo.textContent = "Homework 4.1";
        task1.insertAdjacentElement("afterbegin", linkTwo);
        linkTwo.classList.add("link", "link-active");
        linkTwo.setAttribute("id", "link1");
        linkTwo.setAttribute("data-type", "text/html");
        linkTwo.setAttribute("hreflang", "RU-ru");
        linkTwo.setAttribute("rel", "nofollow");
        linkTwo.setAttribute("target", "_blank");
        linkTwo.setAttribute("title", "Откроется в новой вкладке");
        linkTwo.setAttribute("href", "/homework4-1.html");
        console.log(linkTwo);
      };
    </script>

    <h1>Для задания 2</h1>
    <div class="task2">
      <div>Языки программирования:</div>
      <ul>
        <li>JavaScript</li>
        <li>Go</li>
        <li>TypeScript</li>
        <li><a href="#">PHP</a></li>
      </ul>
      <ol>
        <li>Green</li>
        <li>Yellow</li>
        <li>Red</li>
      </ol>
    </div>
    <script>
      // 2. Напишите код, с помощью которого можно получить:
      // 2.1. элемент <div>
      // 2.2. <ul>
      // 2.3. третий <li> первого списка (TypeScript)
      // 2.4. <a> (PHP)
      // *2.5. второй <li> второго списка (Yellow) через третий <li> первого списка (TypeScript)

      // Решение:
      //2.1
      let divAll = document.getElementsByTagName(`div`);
      for (let item of divAll) {
        console.log(item);
      }
      //2.2
      let ulAll = document.getElementsByTagName(`ul`);
      for (let item of ulAll) {
        console.log(item);
      }
      //2.3
      let li3 = document.getElementsByTagName(`li`)[2];
      console.log(li3);
      //2.4
      let aAll = document.getElementsByTagName(`a`)[1];
      console.log(aAll);
      //2.5
      let parentUl = li3.parentNode;
      console.log(parentUl);
      let parentOl = parentUl.nextElementSibling;
      console.log(parentOl);
      let yellow = parentOl.children[1];
      console.log(yellow);
    </script>

    <h1>Для задания 3</h1>
    <div class="task3" id="calendar"></div>
    <style>
      .task3 table {
        border-collapse: collapse;
      }

      .task3 td,
      .task3 th {
        border: 1px solid black;
        padding: 10px;
        text-align: center;
      }

      .task3 th {
        background-color: orange;
        font-weight: bold;
      }

      task3 td.red {
        background-color: red;
      }
    </style>
    <table id="table"></table>
    ;
    <script>
      // Создайте календарь в виде таблицы с помощью JavaScript
      // Напишите функцию newCalendar(elementLink, year, month).

      // Вызов функции newCalendar() создаст календарь для заданного
      //месяца month в году year и вставить его внутрь elementLink.
      // Календарь должен быть в виде таблицы (тег table), где неделя
      //– это <tr>, а день – это <td>.
      // У таблицы должен быть заголовок с названиями дней недели, каждый день – <th>.
      // Первый день недели в календаре - понедельник.
      // *Если выбран текущий месяц, подсветите красным текущий день на календаре.
      // Пример вызова функции: newCalendar(elementLink, 2022, 1)
      //сгенерирует календарь calendar.png

      // Подсказки
      let year = 2022,
        month = 1;
      let date = new Date(year, month - 1); // Создание объекта Date для месяца month в году year (номерация начинается с 0)
      let day = date.getDay(); // Получение номера дня недели
      console.log(day);

      date.setDate(date.getDate() + 1);
      day = date.getDay(); // Получение номера дня в недели
      console.log(day);

      date.setDate(date.getDate() + 1);
      day = date.getDay();
      console.log(day);

      // Решение:
      function newCalendar(elementLink, year, month) {
        let date = new Date(year, month - 1); // Создание объекта Date для месяца month в году year (номерация начинается с 0)
        let table =
          "<table><tr><th>пн</th><th>вт</th><th>ср</th><th>чт</th><th>пт</th><th>сб</th><th>вс</th></tr><tr>"; //Создал шапку с днями недели
        for (let i = 0; i < getDay(date); i++) {
          table += "<td></td>"; // пробелы первого ряда
        }
        while (date.getMonth() == month - 1) {
          table += "<td>" + date.getDate() + "</td>"; // Заполнение ячеек с датами
          if (
            (date.getFullYear() == year) &
            (date.getMonth == month) &
            (date.getDate() == new Date())
          ) {
            td.className = "red"; //Почему к ячейке td не присваивается класс red?
          }
          if (getDay(date) % 7 == 6) {
            // вс - последний день. Перевод строки.
            table += "</tr><tr>";
          }
          date.setDate(date.getDate() + 1);
        }
        if (getDay(date) != 0) {
          for (let i = getDay(date); i < 7; i++) {
            table += "<td></td>"; //Пустые ячейки в конце месяца
          }
        }
        table += "</tr></table>"; // закрытие таблицы

        elementLink.innerHTML = table;
      }

      function getDay(date) {
        // получить номер дня недели, от 0 (пн) до 6 (вс)
        let day = date.getDay();
        if (day == 0) day = 7; // сделать воскресенье (0) последним днем
        return day - 1;
      }
      newCalendar(calendar, 2023, 11);

      // let today = new Date();
      // console.log(today);
      // console.log(today.getDate());
      // console.log(today.getMonth() + 1);
      // console.log(today.getFullYear());
      // console.log(today.getDay());
    </script>
  </body>
</html>
